# miniY (Discord Music Bot) 🎧

miniG 프로젝트에서 파생된 강력하고 다재다능한 **디스코드 음악 봇**입니다.
yt-dlp와 youtube-transcript-api를 기반으로 타 봇에서는 볼 수 없는 고유의 기능(다국어 자동 생성 자막, 실시간 진행바, 동적 큐 관리 등)을 완벽하게 지원합니다.

## ✨ 주요 기능 (Key Features)

### 1. 📝 타의 추종을 불허하는 "자막(CC) 파싱 시스템"
* 유튜브 영상에 직접 등록된 자막(Korean, English, Japanese 등)은 물론, 유튜브가 자체적으로 만든 **"자동 생성 자막"**까지도 우회 추출(429 회피)하여 완벽하게 디스코드 채팅창에 띄워줍니다!
* 갱신 주기에 맞춰 라이브로 가사가 타이핑되듯 흘러가는 UX를 제공합니다.
* 음악 연주만 나오는 등 자막이 비는 구간에서도 가장 최근 가사가 화면에 자연스럽게 잔류하도록 설계되어 조잡하게 화면이 깜빡이지 않습니다.

### 2. ⏳ 진짜 1초 단위로 올라가는 "라이브 진행바"
* 곡이 얼마나 재생되었는지, 몇 분 남았는지 봇 컨트롤러 엠베드가 실시간으로 업데이트됩니다. 
* 정적 엠베드( 곡 썸네일, 제목, 요청자 )와 동적 엠베드( 진행바 + 자막 )를 2개 채널 메시지로 분리하여 디스코드 API Rate Limit(호출 제한) 현상을 최소화했습니다.

### 3. 🔀 "직관적인" 대기열 관리 UI
* 기존의 딱딱한 명령어 타자 치기에서 벗어나 버튼 하나로 **[🗑️ 삭제]**, **[🔀 셔플]** 이 가능합니다.
* 삭제 버튼 클릭 시 대기열의 곡 개수만큼(최대 10개) 번호 버튼이 생성되어 클릭만으로 직관적인 삭제가 가능합니다.

### 4. ⌨️ 친화적인 "슬래시 명령어" 세트
* `/ㅇ`, `/노래`, `/재생` 등 한국어와 초성 명령어 별칭을 완벽 지원하여 복잡하게 `/play` 등을 타이핑하지 않아도 직관적으로 봇을 사용할 수 있습니다.

---

## 🚀 시작 가이드 (How To Run)

본 프로젝트는 Docker 및 Docker Compose를 활용하여 GCP(Google Cloud Platform) 등 원격지에 쉽게 배포할 수 있도록 구성되어 있습니다.

### 1단계: 필수 구성 파일 세팅 (.env)
루트 폴더 안에 시스템 설정 파일인 `.env`를 생성하고 디스코드 봇 토큰 값을 넣습니다.
```env
BOT_TOKEN=당신의_디스코드_봇_토큰_값
```

### 2단계: 도커 컨테이너 빌드 및 실행
서버 터미널에서 아래 명령어를 실행하면 `ffmpeg`가 내장된 경량 파이썬 환경으로 봇이 즉시 켜집니다.
```bash
sudo docker compose up -d --build
```

### 3단계: 확인
디스코드 서버에 들어가서 봇이 온라인인지 확인 후 `/ㅇ [검색어]`를 통해 제대로 음악과 찰진 자막이 뜨는지 즐겨보세요! 🎉